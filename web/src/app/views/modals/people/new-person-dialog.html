<h1 mat-dialog-title><mat-icon>person_add</mat-icon> Nueva persona asociada</h1>
<div mat-dialog-content>
    <form>
    <div [formGroup]="patientInfo" style="min-height:350px">
        <mat-form-field class="pt-1 pb-1" style="margin-left:2%; margin-right: 2%; width:75%">
            <mat-label>Nombre:</mat-label>
            <input matInput placeholder="Nombre" formControlName="name" required>
        </mat-form-field>
        <mat-form-field class="pt-1 pb-1" style="margin-left:2%; margin-right: 2%; width:17%">
            <mat-label>Edad:</mat-label>
            <input matInput type="number" placeholder="Edad" formControlName="age" required>
        </mat-form-field>
        <mat-form-field class="pt-1 pb-1" style=" width:100%">
            <mat-label>Tipo:</mat-label>
            <mat-select formControlName="type" required>
                <mat-option value="1">Infantil</mat-option>
                <mat-option value="2">Adulto</mat-option>
            </mat-select>
        </mat-form-field>
        <div *ngIf="patientInfo.getRawValue().type == 2">
            <div style=" width:46%; margin-right:2%; margin-left:2%;display:inline-block">
                <mat-form-field class="pt-1 pb-1" style=" width:100%" *ngIf="patientInfo.getRawValue().disability == 0">
                    <mat-label>Discapacidad:</mat-label>
                    <mat-select formControlName="disability" >
                        <mat-option value="0">No</mat-option>
                        <mat-option value="1">Física</mat-option>
                        <mat-option value="2">Psíquica</mat-option>
                    </mat-select>
                </mat-form-field>
                <div style=" width:100%; display:inline-block" *ngIf="patientInfo.getRawValue().disability!=0">
                    <mat-form-field class="pt-1 pb-1" style=" width:50%" >
                        <mat-label>Discapacidad:</mat-label>
                        <mat-select formControlName="disability" >
                            <mat-option value="0">No</mat-option>
                            <mat-option value="1">Física</mat-option>
                            <mat-option value="2">Psíquica</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field class="pt-1 pb-1" style=" width:50%" >
                        <mat-label>Descripción de discapacidad:</mat-label>
                        <input matInput formControlName="desc_disability">
                    </mat-form-field>
                </div>
            </div>
            <mat-form-field class="pt-1 pb-1" style="width:46%; margin-right:2%; margin-left:2%;">
                <mat-label>Grado de dependencia:</mat-label>
                <mat-select formControlName="dependence">
                    <mat-option value="0">No es dependiente</mat-option>
                    <mat-option value="1">1</mat-option>
                    <mat-option value="2">2</mat-option>
                    <mat-option value="3">3</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="pt-1 pb-1" style="margin-left:2%; margin-right: 2%; width:96%">
                <mat-label>Pautas: </mat-label>
                <textarea matInput formControlName="pattern"></textarea>
            </mat-form-field>
        </div>
        <div *ngIf="patientInfo.getRawValue().type == 1">
            <mat-form-field class="pt-1 pb-1" style="width:96%; margin-right:2%; margin-left:2%;">
                <mat-label>Observaciones:</mat-label>
                <textarea matInput formControlName="observations"></textarea>
            </mat-form-field>
        </div>
    </div>
    </form>
</div>
<mat-dialog-actions align="end">
    <button mat-button [mat-dialog-close]="false" mat-dialog-close>Cancelar</button>
    <button mat-button (click)="savePerson()" *ngIf="data.id==''">Guardar</button>
    <button mat-button (click)="changePerson(data.id)" *ngIf="data.id!=''">Actualizar</button>
</mat-dialog-actions>
