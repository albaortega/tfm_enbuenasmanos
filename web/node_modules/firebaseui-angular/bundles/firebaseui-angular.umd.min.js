!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/fire/auth"),require("firebaseui"),require("firebase/auth"),require("firebase/app"),require("@angular/common")):"function"==typeof define&&define.amd?define("firebaseui-angular",["exports","@angular/core","@angular/fire/auth","firebaseui","firebase/auth","firebase/app","@angular/common"],t):t((e=e||self)["firebaseui-angular"]={},e.ng.core,e.ng.fire.auth,e.firebaseui$1,null,e.firebaseOriginal,e.ng.common)}(this,(function(e,t,i,n,r,a,u){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var o=function(){return(o=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function s(e,t,i,n){var r,a=arguments.length,u=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,i,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(u=(a<3?r(u):a>3?r(t,i,u):r(t,i))||u);return a>3&&u&&Object.defineProperty(t,i,u),u}function f(e,t){return function(i,n){t(i,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var l=function(){function e(e){window.firebaseUiInstance||(window.firebaseUiInstance=new n.auth.AuthUI(e.auth)),this.firebaseUiInstance=window.firebaseUiInstance}return e.ctorParameters=function(){return[{type:i.AngularFireAuth}]},e=s([t.Injectable(),c("design:paramtypes",[i.AngularFireAuth])],e)}(),b=function(){function e(e,i,n,r,a){this.angularFireAuth=e,this._firebaseUiConfig=i,this._firebaseUiConfig_Feature=n,this.ngZone=r,this.firebaseUIService=a,this.signInSuccessWithAuthResultCallback=new t.EventEmitter,this.signInFailureCallback=new t.EventEmitter}var n;return n=e,Object.defineProperty(e.prototype,"firebaseUiConfig",{get:function(){return o(o({},this._firebaseUiConfig),this._firebaseUiConfig_Feature)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.subscription=this.angularFireAuth.authState.subscribe((function(t){if(t&&t.isAnonymous||!t){if(0===e.firebaseUiConfig.signInOptions.length)throw new Error("There must be at least one AuthProvider.");e.firebaseUIPopup()}}))},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.getUIAuthConfig=function(){return this.firebaseUiConfig.callbacks||(this._firebaseUiConfig[n.COMPUTED_CALLBACKS]=!0,this._firebaseUiConfig.callbacks=this.getCallbacks()),this.firebaseUiConfig},e.prototype.firebaseUIPopup=function(){var e=this.firebaseUIService.firebaseUiInstance,t=this.getUIAuthConfig(),i=!1;t[n.COMPUTED_CALLBACKS]&&(i=!0,delete t[n.COMPUTED_CALLBACKS]),e.start("#firebaseui-auth-container",t),i&&(this._firebaseUiConfig.callbacks=null)},e.prototype.getCallbacks=function(){var e=this;return{signInSuccessWithAuthResult:function(t,i){return e.ngZone.run((function(){e.signInSuccessWithAuthResultCallback.emit({authResult:t,redirectUrl:i})})),e.firebaseUiConfig.signInSuccessUrl},signInFailure:function(t){return e.ngZone.run((function(){e.signInFailureCallback.emit({code:t.code,credential:t.credential})})),Promise.reject()}}},e.COMPUTED_CALLBACKS="COMPUTED_CALLBACKS",e.ctorParameters=function(){return[{type:i.AngularFireAuth},{type:void 0,decorators:[{type:t.Inject,args:["firebaseUIAuthConfig"]}]},{type:void 0,decorators:[{type:t.Inject,args:["firebaseUIAuthConfigFeature"]}]},{type:t.NgZone},{type:l}]},s([t.Output("signInSuccessWithAuthResult"),c("design:type",t.EventEmitter)],e.prototype,"signInSuccessWithAuthResultCallback",void 0),s([t.Output("signInFailure"),c("design:type",t.EventEmitter)],e.prototype,"signInFailureCallback",void 0),e=n=s([t.Component({selector:"firebase-ui",template:'<div id="firebaseui-auth-container"></div>'}),f(1,t.Inject("firebaseUIAuthConfig")),f(2,t.Inject("firebaseUIAuthConfigFeature")),c("design:paramtypes",[i.AngularFireAuth,Object,Object,t.NgZone,l])],e)}(),g=a,p=n,h=function(){},d=function(){},C=function(){function e(){}var i;return i=e,e.forRoot=function(e){return{ngModule:i,providers:[{provide:"firebaseUIAuthConfig",useValue:e},{provide:"firebaseUIAuthConfigFeature",useValue:{}}]}},e.forFeature=function(e){return{ngModule:i,providers:[{provide:"firebaseUIAuthConfigFeature",useValue:e}]}},e=i=s([t.NgModule({imports:[u.CommonModule],declarations:[b],providers:[l],exports:[b]})],e)}();e.FirebaseUIModule=C,e.FirebaseUISignInFailure=d,e.FirebaseUISignInSuccessWithAuthResult=h,e.FirebaseuiAngularLibraryComponent=b,e.FirebaseuiAngularLibraryService=l,e.firebase=g,e.firebaseui=p,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=firebaseui-angular.umd.min.js.map